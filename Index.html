<!DOCTYPE html>
<html>
<head>
<title>Open World Game</title>
<style>
body {
  margin: 0; 
  overflow: hidden; 
  font-family: sans-serif;
}

#game-container {
  display: flex; 
  height: 100vh;
}

#sidebar {
  width: 250px; 
  background-color: #f0f0f0;
  padding: 10px;
  position: relative; 
  transition: width 0.3s ease;
}

#sidebar.collapsed {
  width: 0;
  overflow: hidden;
}

#sidebar-content {
    transition: opacity 0.3s ease;
}

#sidebar.collapsed #sidebar-content {
    opacity: 0;
}

#collapse-button {
  position: absolute;
  top: 10px;
  right: 10px;
  cursor: pointer;
  padding: 5px;
}

#collapse-button::before {
  content: '\25C0';
}
  
#sidebar.collapsed #collapse-button {
   right: -5px; /* Adjust to bring arrow out when collapsed */
}
  
#sidebar.collapsed #collapse-button::before {
  content: '\25B6';
}

#game-content {
  flex: 1; 
  background-color: #e0e0e0;
  display: flex;
  justify-content: center;
  overflow: hidden;
}

#game-content > div {
  text-align: center;
}

</style>
</head>
<body>

<div id="game-container">

  <div id="sidebar">
    <div id="sidebar-content">
      <h2>Player Info</h2>
      <p>Name: <span id="player-name">Sabrina</span></p>
      <p>Day: <span id="current-day">1</span></p>
      <p>Time: <span id="current-time">Morning</span></p>
      <p>Purity: <span id="purity">100</span></p>
      <p>Corruption: <span id="corruption">0</span></p>
      <p>Lust: <span id="lust">0</span></p>

      <button onclick="saveGame()">Save</button>
      <button onclick="loadGame()">Load</button>
    </div>
    <span id="collapse-button" onclick="toggleSidebar()"></span> </div>

  <div id="game-content">
    <div>
      <h1>Sabrina's Room</h1>
      <p>Welcome to your room, Sabrina!</p>
      <button onclick="advanceTime()">Advance Time</button> <br><br>
      <button onclick="changeLocation('town')">Go to Town</button>
    </div>
  </div>

</div>

<script>
let playerName = "Sabrina";
let currentDay = 1;
let currentTime = "Morning";
let purity = 100;
let corruption = 0;
let lust = 0;
let sidebarVisible = true;


function updateStats() {
    document.getElementById("player-name").textContent = playerName;
    document.getElementById("current-day").textContent = currentDay;
    document.getElementById("current-time").textContent = currentTime;
    document.getElementById("purity").textContent = purity;
    document.getElementById("corruption").textContent = corruption;
    document.getElementById("lust").textContent = lust;
}

function advanceTime() {
  switch (currentTime) {
    case "Morning": currentTime = "Noon"; break;
    case "Noon": currentTime = "Afternoon"; break;
    case "Afternoon": currentTime = "Evening"; break;
    case "Evening": currentTime = "Night"; break;
    case "Night": currentTime = "Late Night"; break;
    case "Late Night": 
      currentTime = "Morning"; 
      currentDay++; 
      break;
  }
  updateStats();
}

function changeLocation(location) {
    // Basic location changing logic.
    const gameContent = document.getElementById("game-content");
    gameContent.innerHTML = ""; // Clear existing content

    if (location === 'town') {
        gameContent.innerHTML = "<div><h1>Town Square</h1><p>You are in the town square.</p><button onclick='changeLocation(\"room\")'>Go back to Room</button></div>";
    } else if (location === 'room') {
       gameContent.innerHTML = "<div><h1>Sabrina's Room</h1><p>Welcome to your room, Sabrina!</p><button onclick='advanceTime()'>Advance Time</button><br><br><button onclick='changeLocation(\"town\")'>Go to Town</button></div>";
    }

}


function saveGame() {
  localStorage.setItem('playerName', playerName);
  localStorage.setItem('currentDay', currentDay);
  localStorage.setItem('currentTime', currentTime);
  localStorage.setItem('purity', purity);
  localStorage.setItem('corruption', corruption);
  localStorage.setItem('lust', lust);
  alert("Game Saved!");
}

function loadGame() {
  playerName = localStorage.getItem('playerName') || "Sabrina"; // Default if no save
  currentDay = parseInt(localStorage.getItem('currentDay')) || 1;
  currentTime = localStorage.getItem('currentTime') || "Morning";
  purity = parseInt(localStorage.getItem('purity')) || 100;
  corruption = parseInt(localStorage.getItem('corruption')) || 0;
  lust = parseInt(localStorage.getItem('lust')) || 0;
  updateStats();
  alert("Game Loaded!");
}

function toggleSidebar() {
  const sidebar = document.getElementById('sidebar');
  sidebar.classList.toggle('collapsed');
  sidebarVisible = !sidebarVisible; // Keep track of visibility (optional)
}

// Initial update on page load
updateStats();

</script>

</body>
</html>
